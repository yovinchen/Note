## 数据库设计

数据库设计是指对于一个给定的应用环境，构造（设计）优化数据库逻辑模式和物理结构，并据此建立数据库及其应用系统，使之能够有效的存储和管理数据，满足各种用户的应用需求，包括信息管理需求和数据操作要求。

数据库设计的特点 

1. 三分技术，七分管理，十二分基础数据

2. 结构（数据）设计和行为（处理）设计相结合

   #### 数据库设计的基本步骤：

   <u>需求分析阶段  概念结构设计阶段  逻辑结构设计阶段  物理结构设计阶段 数据库实施阶段 数据库运行和维护阶段</u> 

   **需求分析阶段**

   建立数据字典

   数据字典通常包括数据项，数据结构，数据流，数据存储和处理过程几部分。

   **概念结构设计阶段**

   概念模型-E-R图

   （1）实体与属性的划分原则

   作为属性，不能在具有需要描述的性质

   属性不能与其他实体具有练习

   （2）E-R图的集成

   各子系统的E-R图之间的冲突主要有三类：属性冲突，命名冲突和结构冲突。

   **逻辑结构设计阶段**

   逻辑结构设计的任务就是把概念结构设计阶段设计好的基本E-R图转换为与所选用数据库管理系统产品所支持的数据模型相符合的逻辑结构。

   E-R模型到关系模型转换原则

     1. 实体转换原则

       一个实体转换成一个关系模式，实体的码即关系模式的码

     2. 实体型间的联系有以下不同情况

     （1） 一个1:1联系可以转换为一个独立的关系模式，也可以与任意一端对应的关系模式合并。
     ① 转换为一个独立的关系模式
     关系的属性：与该联系相连的各实体的码以及联系本身的属性
     关系的候选码：每个实体的码均是该关系的候选码

     ②与某一端实体对应的关系模式合并
     合并后关系的属性：该关系模式的属性中加入另一个关系模式的码（作为外键）和联系本身的属性。
     合并后关系的码：不变

     （2）一个1:n联系可以转换为一个独立的关系模式，也可以与n端对应的关系模式合并。
     ①转换为一个独立的关系模式
     关系的属性：与该联系相连的各实体的码以及联系本身的属性
     关系的码：n端实体的码

   ②与n端对应的关系模式合并
   合并后关系的属性：在n端关系中加入1端关系的码（作为外键）和联系本身的属性
   合并后关系的码：不变
   可以减少系统中的关系个数，一般情况下更倾向于采用这种方法

   （3）一个m:n联系转换为一个关系模式
   关系的属性：与该联系相连的各实体的码以及联系本身的属性
   关系的码：各实体码的组合

   三个或三个以上实体间的一个多元联系转换为一个关系模式。
   关系的属性：与该多元联系相连的各实体的码以及联系本身的属性
   关系的码：各实体码的组合

   练习题：

   1.第七章ppt 17-18

   2.某医院病房计算机管理中需要如下信息：
   科室：科室名，科地址，科电话，医生姓名
   病房：病房号，床位号，所属科室名
   医生：姓名，职称，所属科室名，年龄，工作证号
   病人：病历号，姓名，性别，诊断，主管医生，病房号
   其中，一个科室有多个病房，多个医生，一个病房只能属于一个科室，一个医生只属于
   个科室，但可负责多个病人的诊治，
   ，一个病人的主管医生只有一个。
   完成如下设计：
   （1）涉及该计算机管理系统的 E-R 图
   （2）将该E-R图转换为关系模型的结构
   （3）指出转换结果中每个关系模式的候选码

   课本241页  7，8，10

   

